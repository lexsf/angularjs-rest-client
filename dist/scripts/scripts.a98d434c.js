"use strict";function displayError(a,b){return b.errorMessage="an error occured. try again. "+a.status+"/"+a.statusText,!1}var app=angular.module("angularjsRestClientApp",["ngRoute","mgcrea.ngStrap","restangular","ngSanitize"]).config(["$routeProvider","RestangularProvider",function(a,b){b.setErrorInterceptor(function(a){return displayError(a)}),a.when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/task",{templateUrl:"views/task.html",controller:"TaskCtrl"}).when("/task/:taskId",{templateUrl:"views/task.html",controller:"TaskCtrl"}).when("/task/edit/:taskId",{templateUrl:"views/taskEdit.html",controller:"TaskeditCtrl"}).when("/language/:languageId",{templateUrl:"views/language.html",controller:"LanguageCtrl"}).when("/language",{templateUrl:"views/language.html",controller:"LanguageCtrl"}).when("/language/edit/:languageId",{templateUrl:"views/languageEdit.html",controller:"LanguageeditCtrl"}).otherwise({redirectTo:"/main"})}]);app.run(["$rootScope","Restangular",function(a,b){a.API="http://localhost:8080",b.setBaseUrl(a.API),b.setErrorInterceptor(function(b){return displayError(b,a)})}]),angular.module("angularjsRestClientApp").service("taskService",["Restangular",function(a){return{getAll:function(){return a.all("task").getList().$object},updateTask:function(a){var b=a.put();return b},getTask:function(b){return a.one("task",b).get()},getTaskRevisionNumbers:function(b){return a.all("task/"+b+"/revisions").getList().$object},getTaskWithRevision:function(b,c){return a.one("task/"+b+"/revisions/"+c).get()}}}]),angular.module("angularjsRestClientApp").controller("MainCtrl",["$scope",function(){}]),angular.module("angularjsRestClientApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("angularjsRestClientApp").controller("TaskCtrl",["$scope","taskService","Restangular","$routeParams","$window",function(a,b,c,d){a.taskId=d.taskId,a.loadTaskList=function(){a.taskList=b.getAll()},a.loadSingleTask=function(b){a.loadSingleTaskWithRevision(b,null)},a.loadSingleTaskWithRevision=function(c,d){a.revisions=b.getTaskRevisionNumbers(a.taskId),a.currentRevision=d,null==d?b.getTask(a.taskId).then(function(b){a.selectedTask=b}):b.getTaskWithRevision(a.taskId,a.revision).then(function(b){a.selectedTask=b})},null==a.taskId?a.loadTaskList():(a.taskList={},null!=d.revision?(a.revision=d.revision,a.loadSingleTaskWithRevision(a.taskId,a.revision)):a.loadSingleTask(a.taskId))}]),angular.module("angularjsRestClientApp").controller("LanguageCtrl",["$scope","$routeParams","languageService",function(a,b,c){a.languageId=b.languageId,a.loadLanguageList=function(){a.languageList=c.getAll()},a.loadSingleLanguage=function(b){a.loadSingleLanguageWithRevision(b,null)},a.loadSingleLanguageWithRevision=function(b,d){a.revisions=c.getLanguageRevisionNumbers(a.languageId),a.currentRevision=d,null==d?c.getLanguage(a.languageId).then(function(b){a.selectedLanguage=b}):c.getLanguageWithRevision(a.languageId,a.revision).then(function(b){a.selectedLanguage=b})},null==a.languageId?a.loadLanguageList():(a.languageList={},null!=b.revision?(a.revision=b.revision,a.loadSingleLanguageWithRevision(a.languageId,a.revision)):a.loadSingleLanguage(a.languageId))}]),angular.module("angularjsRestClientApp").controller("FooterCtrl",["$scope","Restangular",function(a,b){a.modal={content:"--"},a.save=function(c){a.API=c.url,b.setBaseUrl(a.API)},a.startModal=function(){a.formdata=new Object,a.formdata.url=a.API}}]),angular.module("angularjsRestClientApp").controller("TaskeditCtrl",["$scope","$routeParams","taskService","Restangular","$location",function(a,b,c,d,e){a.taskId=b.taskId,a.selectedTask={},c.getTask(a.taskId).then(function(b){a.selectedTask=b}),a.updateTask=function(b){c.updateTask(b).then(function(){a.goBack()})},a.goBack=function(){e.path("task/"+a.taskId)},a.addSubtask=function(){a.selectedTask.subTasks.push({})},a.removeSubtask=function(b){a.selectedTask.subTasks.pop(b)}}]),angular.module("angularjsRestClientApp").service("languageService",["Restangular",function(a){return{getAll:function(){return a.all("language").getList().$object},updateLanguage:function(a){var b=a.put();return b},getLanguage:function(b){return a.one("language",b).get()},getLanguageRevisionNumbers:function(b){return a.all("language/"+b+"/revisions").getList().$object},getLanguageWithRevision:function(b,c){return a.one("language/"+b+"/revisions/"+c).get()}}}]),angular.module("angularjsRestClientApp").controller("LanguageeditCtrl",["$scope","$routeParams","languageService","Restangular","$location",function(a,b,c,d,e){a.languageId=b.languageId,a.selectedLanguage={},c.getLanguage(a.languageId).then(function(b){a.selectedLanguage=b}),a.updateLanguage=function(b){c.updateLanguage(b).then(function(){a.goBack()})},a.goBack=function(){e.path("language/"+a.languageId)}}]);